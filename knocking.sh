#!/bin/bash
if [ "$1" == "" ]
then

	echo -e "\e[1;31m################################################################################################"
	echo "| How to use-> ./knocking.sh [IP-target] [Port 1] [Port 2] [Port 3] [Port 4] [Connection Port] |"
        echo "| Example -> ./knocking.sh 0$ 192.168.0.1 20 22 80 90 443                                      |"
	echo -e "################################################################################################\e[0m"

else

	echo -e "\e[1;34m########################################################################"
	echo "|                                                                      |"
	echo "|  _  __                 _    _               ____            _        |"
	echo "| | |/ /_ __   ___   ___| | _(_)_ __   __ _  |  _ \ ___  _ __| |_ ___  |"
	echo "| | ' /| '_ \ / _ \ / __| |/ / | '_ \ / _  | | |_) / _ \| '__| __/ __| |"
	echo "| | . \| | | | (_) | (__|   <| | | | | (_| | |  __/ (_) | |  | |_\__ \ |"
	echo "| |_|\_\_| |_|\___/ \___|_|\_\_|_| |_|\__, | |_|   \___/|_|   \__|___/ |"
	echo "|                                     |___/                            |"
	echo "|                           v1.0.0                                     |"
	echo "| ->              	   by D4GUR4SU                              <- |"
	echo -e "########################################################################\e[0m"

hping3 -S -p $2 -c 1 $1 > knocking-ports.txt
hping3 -S -p $3 -c 1 $1 >> knocking-ports.txt
hping3 -S -p $4 -c 1 $1 >> knocking-ports.txt
hping3 -S -p $5 -c 1 $1 >> knocking-ports.txt

	echo -e "\e[1;31m######################################################"
        echo "| ->           TRYING TO CONNECT BY HOST...       <- |"
        echo -e "######################################################\e[0m"

curl http://$1:$6 --verbose
fi
